![boy-smart](./documents/images/logo.png)
#### æè¿°
**smart** æ˜¯åŸºäºwebpackç”¨äºå‰ç«¯å¼€å‘å’Œæ„å»ºä¸ºä¸€ä½“çš„å¿«é€ŸèŒèƒ½å·¥å…·ã€‚ç›®å‰ä¸»è¦ç”¨åœ¨SPAé¡¹ç›®ä¸Šã€‚

> æç¤º: æš‚æ—¶ä¸å»ºè®®ç”¨åœ¨å¤šé¡µé¢é¡¹ç›®ä¸Šï¼Œæœ‰æ—¶é—´ä¼˜åŒ–åå¯åœ¨ç”¨ã€‚

**smart** æœ‰èƒ½åŠ›ç»™ä½ æä¾›ä¸€ä¸ªå¯å¼•å¯¼çš„å·¥ä½œæ­¥éª¤ï¼Œå®ƒçŸ¥é“ä½ æ˜¯ä¸æ˜¯è¦åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œè¿˜æ˜¯è¦å»å¼€å‘è°ƒè¯•æˆ–è€…æ‰“åŒ…é¡¹ç›®ã€‚

å¯¹ä¸ç†Ÿæ‚‰ä½¿ç”¨CLIå‘½ä»¤çš„ä½¿ç”¨è€…ï¼Œæä¾›äº†å¯ç›´è§‚çš„å‘½ä»¤æ“ä½œç•Œé¢ï¼ŒåŒæ—¶å¯¹äºä¸ç†Ÿæ‚‰ **smart** çš„ä½¿ç”¨è€…æ¥è¯´å‡å°‘äº†ä¸€äº›ä¸å¿…è¦çš„æ—¶é—´å¼€é”€ã€‚

**smart** å¯¹ES6æœ‰æ›´å¥½çš„æ”¯æŒ


## ç‰¹è‰²

- èŒèƒ½çš„CLIå‘½ä»¤
- ç®€å•çš„é…ç½®
- å¤šä¸ªé¡¹ç›®æ¨¡å¼
- é«˜æ•ˆçš„åˆ›å»ºé¡µé¢
- è‡ªåŠ¨åŒ¹é…æ–°é¡µé¢è·¯ç”±
- æ ¹æ®å¯åŠ¨çš„ç¯å¢ƒå†³å®šæ‹†å°é¡µé¢ä»£ç å—
- æ”¯æŒ mockjs å’Œ proxy

## å®‰è£…
1. npm ï¼ˆç¨åå‘å¸ƒï¼‰

	 > å»ºè®®å®‰è£…åˆ°æœ¬åœ°
	
	 å®‰è£…åˆ°æœ¬åœ°
	 
	 ````
	 // æ‰“å¼€ç»ˆç«¯
	 // å‘½ä»¤ â€˜cdâ€™ è¿›å…¥åˆ°ä½ è¦å®‰è£…åˆ°ç›®å½•
	 
	 npm install boy-smart --save-dev
	 
	 // ç„¶åè¿›å…¥åˆ°boy-smartç›®å½•
	 // ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ˜ å°„åˆ°å…¨å±€ï¼Œè¿™æ ·å¯ä»¥åœ¨ä»»ä½•æœ‰æ•ˆçš„ç›®å½•è°ƒç”¨ 'smart' å‘½ä»¤
	 
	 npm link æˆ–è€… npm link boy-smart
	 ````
	 
	 å®‰è£…åˆ°å…¨å±€
	 
	 ````
	 npm install boy-smart -g
	 ````
 
2. git

	````
	// åŒä¸Šé¢ä¸€æ ·ï¼Œè¿›å…¥åˆ°ä½ å®‰è£…çš„ç›®å½•ä½ç½®

	git clone git@github.com:09boy/boy-smart.git
	
	// è¿›å…¥åˆ° boy-smart å®‰è£…ç›®å½•, ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ˜ å°„åˆ°å…¨å±€ï¼Œæ–¹ä¾¿å…¨å±€ä½¿ç”¨ smart å‘½ä»¤
	
	npm link boy-smart
	
	````
3. yarnï¼ˆç¨åå‘å¸ƒï¼‰

	> ç¨åæä¾› yarn

## æ”¯æŒçš„é¡¹ç›®æ¨¡å¼
- normal
- react
- vue


>  å½“ä½ åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®çš„æ—¶å€™å¯ç”¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œsmart åº”è¯¥ä¼šç»™å‡ºæç¤ºï¼Œå¦‚æœæ²¡æœ‰é‚£æ˜¯æµ‹è¯•ç–å¿½äº†ã€‚ğŸ˜„

##### normal é¡¹ç›®
- è¿™åªæ˜¯ä¸€ä¸ªæ™®é€šä¸èƒ½åœ¨æ™®é€šçš„é¡¹ç›®ï¼Œå®Œå…¨ç”±ä½ å»å¼€å‘ï¼Œå¯åŸºäº backbone åš SPA åº”ç”¨é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥å®Œå…¨å½“ä½œå­¦ä¹ æ–°çŸ¥è¯†å»ä½¿ç”¨ã€‚
- react å’Œ vue å°±æ˜¯åœ¨è¿™åŸºç¡€ä¸Šåšçš„å°è£…ï¼Œæ‰€ä»¥ä½ å®Œå…¨ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ¨¡å¼å»æ•´åˆä½ è‡ªå·±ç‹¬æœ‰çš„åº”ç”¨ã€‚
- ä¸‹é¢æœ‰demoæä¾›, è¿™é‡Œä½ åªéœ€è¦äº†è§£æœ‰è¿™å‡ ä¸ªæ¨¡å¼

> ä¸ç»™æŒ‡å®š -m, --mode å‚æ•°ï¼Œé»˜è®¤å°†åˆ›å»ºä¸€ä¸ªæ™®é€šé¡¹ç›®
	
````
// åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®
	
smart init
	
// æˆ–è€… å‚æ•°ç®€å†™
	
smart init -m normal
	
// å‚æ•°å…¨å†™
smart init --mode normal
````

##### react é¡¹ç›®
åŸºäº react + react-router-dom + redux è¿™äº›ä¸ºä¾èµ–çš„é¡¹ç›®

	````
	// åˆå§‹åŒ–ä¸€ä¸ª react é¡¹ç›®
	
	smart init -m react
	
	// åŒä¸Š normal
	smart init --mode react
	````

vue é¡¹ç›®
åŸºäºvue + vuex + vue-router è¿™äº›ä¸ºä¾èµ–çš„é¡¹ç›®

	````
	// åˆå§‹åŒ–ä¸€ä¸ª vue é¡¹ç›®
	
	smart init -m vue
	
	// åŒä¸Š normal
	smart init --mode vue
	````

## CLI å‘½ä»¤

å‘½ä»¤|å‚æ•°|å‚æ•°å€¼|è¯´æ˜|ä½¿ç”¨
---|---|---|---|---
init \<app-name> | ç®€å†™: -m<br>å…¨ç§°: --mode | normal, react, vue | 1. \<app-name>æ˜¯éœ€è¦ç»™ä¸€ä¸ªè¦åˆ›å»ºçš„é¡¹ç›®åç§°;<br>2. å‚æ•°ç¼ºçœå€¼: normal | smart init newapp
install | | | 1. åˆå§‹åŒ–å®Œæˆåï¼Œæ–¹å¯ç”¨ï¼Œå¦åˆ™æ˜¯ä¸€ä¸ªæ— æ•ˆçš„å‘½ä»¤, smartè‡ªå·±çŸ¥é“; <br/>2. å¦‚æœæœ‰å¿…è¦ï¼Œå®‰è£…ä¹‹å‰ä½ å¯ä»¥ä¿®æ”¹é»˜è®¤çš„é…ç½®æ–‡ä»¶ä¸­çš„å€¼ | smart install
create \<app-name> | | | 1. \<app-name>æ˜¯éœ€è¦ç»™ä¸€ä¸ªè¦åˆ›å»ºçš„é¡¹ç›®åç§°; <br>2. åˆ›å»ºä¸€ä¸ª normal é¡¹ç›®å¹¶å®‰è£…æ‰€éœ€è¦çš„ä¾èµ–åŒ…ï¼Œç›¸å½“äº init å’Œ install çš„ç»“åˆ | smart create newapp
create-react \<app-name> | | | åŒä¸Š(create), åªä¸è¿‡è¿™æ˜¯ä¸€ä¸ª react é¡¹ç›®| smart create-react newapp
create-vue \<app-name> | | | åŒä¸Š(create) | smart create-vue newapp
start |-p, --port<br>-h, --host | ç¼ºçœå€¼æŸ¥çœ‹é…ç½®æ–‡ä»¶ |1. ç”¨äºå¼€å‘è°ƒè¯•;<br>2. åªæœ‰åœ¨æœ‰æ•ˆçš„smarté¡¹ç›®ä¸­æ‰å¯ä»¥ç”¨ï¼Œsmart è‡ªå·±çŸ¥é“ |é»˜è®¤ç«¯å£: smart start;<br>æŒ‡å®šç«¯å£: smart start -p 6666
page \<names> |  | | 1. \<names> è¦åˆ›å»ºçš„é¡µé¢åç§°ï¼Œå¤šä¸ªé¡µé¢å¯ä»¥ç”¨ç©ºæ ¼éš”å¼€;<br>2. è‡ªåŠ¨è½¬æ¢æ–‡ä»¶å: é¦–å­—æ¯åœ¨æ–‡ä»¶å¤¹ä¸­æ›¿æ¢æˆå°å†™ï¼Œç±»åæ˜¯å¤§å†™;<br>3. ä¾‹å¦‚åˆ›å»ºä¸¤ä¸ªé¡µé¢: smart page about Work, æ–‡ä»¶å¤¹åä¸º[about, work], ç±»åä¸º[AboutPage, WorkPage] | åˆ›å»ºä¸€ä¸ªé¡µé¢: smart page about;<br>åˆ›å»ºå¤šä¸ªé¡µé¢: smart page about work contact
page-child<br>\<parent-folder-name><names> | | | 1. <parent-folder-name> æ˜¯æŒ‡å®šè¦åˆ›å»ºçš„å­é¡µé¢çš„å·²ç»å­˜åœ¨çš„çˆ¶ç›®å½•åç§°ï¼Œä¸€æ¬¡åªèƒ½æŒ‡å®šä¸€ä¸ªçˆ¶ç›®å½•;<br>2. <names>æ˜¯è¦åˆ›å»ºçš„å­é¡µé¢ï¼Œå¯ä»¥æœ‰å¤šä¸ª,å’Œ pageå‘½ä»¤ä¸€æ · | åœ¨abouté¡µé¢ä¸‹åˆ›å»ºä¸€ä¸ªnewså­é¡µé¢ï¼š<br>smart page-child about news;<br>å¤šä¸ªå­é¡µé¢ï¼š<br>smart page-child about child1 child2 child3
component \<names>| | | åŒä¸Š(page) | åŒä¸Š(page)
build | dev<br>pro<br>gray<br>release| æ— å€¼ï¼Œåªéœ€è¦æŒ‡å®šå‚æ•°åå³å¯ | 1. dev ä¸è¦ç¼©æ‰“åŒ…;<br>2. pro å‹ç¼©æ‰“åŒ…ï¼ŒåŒ…å«console;<br>3. åŸºæœ¬å’Œproä¸€æ ·ï¼Œä¾èµ–é¡¹ç›®æ¨¡å¼, å¯å¿½ç•¥;<br>4. release æ¸…é™¤æ‰€æœ‰ console å’Œ died code, ä¸åŒ…å«source-map, æ­£å¼ç”Ÿäº§ç¯å¢ƒç”¨;<br> æ— å‚æ•°å’Œå‚æ•°é”™è¯¯æœ‰æç¤º |1. smart build dev<br>2. smart build pro<br>3.smart build gray<br>4. smart build release
server | -p, --port<br>-h, --host | ç¼ºçœå€¼é…ç½®æ–‡ä»¶ä¸­çš„å€¼ | 1. å¯åŠ¨ä¸€ä¸ª node æœåŠ¡;<br>2. æš‚æ—¶ä¾èµ–é…ç½®æ–‡ä»¶ä¸­çš„ build_dirï¼ˆç›®å½•åç§°ï¼‰ å€¼ | smart server
del \<app-name> | | | 1. å¦‚æœä½ è¦åˆ é™¤ä¸€ä¸ªå·²ç»å­˜åœ¨ smart é¡¹ç›®ï¼Œè¿›å…¥åˆ°è¦åˆ é™¤é¡¹ç›®çš„çˆ¶å±‚;<br>2. å¼ºçƒˆå»ºè®®ä½¿ç”¨è¿™ä¸ªå‘½ä»¤å»åˆ é™¤ smart é¡¹ç›®, ä¸è¦ç›´æ¥å»åˆ é™¤æ–‡ä»¶å¤¹ | smart del myapp
upgrade | | | æ›´æ–° smart | smart upgrade
eslint|||1. æ ¡éªŒä»£ç ;<br>2. å¼€å‘ä¸­...|
test|||2. å•å…ƒæµ‹è¯•;<br>2. å¼€å‘ä¸­...|

> å¦‚æœä½ è¾“å…¥ smart è¿™ä¸ªå‘½ä»¤ä¼šå‡ºç°ä¸‹é¢æƒ…å†µ:

````
// ç»ˆç«¯è‡´è¾“å…¥ä¸‹é¢å‘½ä»¤

smart 
````
å¦‚æœå½“å‰ç›®å½•ä¸æ˜¯ä¸€ä¸ª smart ç›®å½•ï¼Œå°†å‡ºç°ä¸‹é¢ç•Œé¢ï¼š

![](./documents/images/init.png)

å¦‚æœå½“å‰ç›®å½•æ˜¯ä¸€ä¸ª smart ç›®å½•ï¼Œå°†ä¼šæ˜¯è¿™æ ·çš„ç•Œé¢:

![](./documents/images/start.png)

> ä¸Šé¢å¯èƒ½å¯¹äºæ–°æ‰‹æœ‰ç‚¹å¸®åŠ©, ä¼šä¸€æ­¥ä¸€æ­¥æ ¹æ®æç¤ºå®Œæˆæ“ä½œ

## é…ç½®æ–‡ä»¶ä¸é¡¹ç›®ç»“æ„

> å¯é€šè¿‡ smart.config.yml æ–‡ä»¶å»ä¿®æ”¹ç›¸åº”çš„å‚æ•°å€¼

åŸºæœ¬æœºæ„æ˜¯è¿™æ ·çš„

````
project dir 					é¡¹ç›®ç›®å½•
â”‚
â”‚
â”œâ”€â”€ dist 						æ‰“åŒ…ä»£ç åè¾“å…¥ç›®å½•
â”‚
â”œâ”€â”€ src 						å¼€å‘å…¥å£ç›®å½•
â”‚   â”‚
â”‚   â”œâ”€â”€ assets					é™æ€èµ„æºç›®å½• css, image fonts svg ...
â”‚   â”‚   â”œâ”€â”€ images
â”‚   â”‚   â”œâ”€â”€ fonts
â”‚   â”‚   â”œâ”€â”€ other statics
â”‚   â”‚
â”‚   â”œâ”€â”€ components				å¯é‡å¤åˆ©ç”¨ï¼Œå°è£…çš„ä»£ç ç›®å½•
â”‚   â”‚
â”‚   â”‚
â”‚   â”œâ”€â”€ pages 					é¡µé¢ç®¡ç†ç›®å½•
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ router.config.js
â”‚   â”‚   â”œâ”€â”€ home_dir
â”‚   â”‚   â”œâ”€â”€ about_dir
â”‚   â”‚   â”œâ”€â”€ ...otehr pages
â”‚   â”‚
â”‚   â”œâ”€â”€ utils					æ”¾ä¸€äº›toolsä»£ç , æ¯”å¦‚ constant, request(ajax)
â”‚   â”‚
â”‚   â”‚.......................... è¿˜æœ‰å†™é…ç½®æ–‡ä»¶éƒ½ä¼šæ”¾åœ¨æ ¹ç›®å½•ä¸‹
````

ç„¶åå‘¢å„ä¸ªé¡¹ç›®æ¨¡å¼ä¼šæœ‰äº›ä¸åŒï¼Œä½†ä¸Šé¢æ˜¯åŸºæœ¬ä¸ä¼šå˜çš„ã€‚

 [è¯¦æƒ…-æœ‰æ—¶é—´å†å†™](strcture.detail.md)

## é¡¹ç›®ç®€è¦è¯´æ˜ä»¥åŠDEMO

###Normal Project
**normal é¡¹ç›®ï¼Œæš‚æ—¶æ²¡æœ‰é›†æˆä»»ä½•é’ˆå¯¹æ€§çš„ä»£ç åº“æˆ–è€…æ’ä»¶ï¼Œå‡ºäºä¸‹é¢å‡ ä¸ªåŸå› :**

1. æœ‰é’ˆå¯¹æ€§ï¼Œå°±æœ‰äº†é™åˆ¶çš„èŒƒå›´ã€‚å¯¹äºæ™®é€šé¡¹ç›®çš„æ¥è¯´ï¼Œæœªå¿…æœ‰ä¼¸å±•è¡Œ
2. å¯¹äº normal é¡¹ç›®ï¼Œsmartå°±æ˜¯ä¸€ä¸ªç»™ä½ æä¾›å¹²å‡€çš„çº¸å’Œç¬”ï¼Œä½ æ ¹æ®éœ€è¦è‡ªå·±å»æ·»åŠ ç¬”è§¦
3. é‡è¦çš„æ˜¯è‡ªå·±å‡ ä¹ç”¨ä¸åˆ°æ™®é€šæ¨¡å¼ï¼Œå†™è¿™ä¸ªæ–‡æ¡£å°±æ˜¯ç»™è‡ªå·±ä¸€ä¸ªå­¦ä¹ äº¤ä»£ã€‚
		
**å…³äºåˆ›å»ºé¡µé¢å’Œç»„ä»¶çš„é—®é¢˜**
	
1. ä¸åƒreact, vue é’ˆå¯¹æ€§çš„é¡¹ç›®ï¼Œå¯ä»¥å‡å°‘ä¸€äº›æ‰‹åŠ¨æ·»åŠ æ ·æ¿ä»£ç çš„æ“ä½œ
2. smart é€šè¿‡æ£€ç´¢ä¸€ä¸ªå¤–éƒ¨æä¾›çš„å›ºå®šåç§°çš„æ ·æœ¬æ–‡ä»¶å»è§£å†³è¿™ä¸ªé—®é¢˜:
	- æ ·æœ¬æ–‡ä»¶æ˜¯æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•åå­—ä¸º templates çš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å« page å’Œ component ä¸¤ä¸ªæ–‡ä»¶å¤¹ã€‚
	- è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹é‡Œé¢å¿…é¡»åŒ…å« index.js æˆ–è€… index.jsxã€‚
	- å¦‚æœæ²¡æœ‰æä¾›: page åªä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«æœ‰ index.js å’Œ style.scss ä¸¤ä¸ªç©ºç™½æ–‡ä»¶çš„æ–‡ä»¶å¤¹ã€‚
	- æ¯æ¬¡åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œé»˜è®¤ä¼šæä¾›è¿™ä¸ªæ ·æœ¬æ–‡ä»¶ï¼ˆå¯åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ï¼‰ï¼Œå¦‚æœä½ æƒ³æ‰‹åŠ¨åˆ›å»ºï¼Œè¯·åˆ é™¤ templates æ–‡ä»¶å¤¹æˆ–è€…åœ¨é…ç½®æ–‡ä»¶ä¸­å…³é—­è¿™ä¸ªé€‰é¡¹ã€‚å¦‚æœåªæƒ³ç”¨pageé‚£ä¹ˆåˆ é™¤componentè¿™ä¸ªå°±å¯ä»¥äº†ã€‚
	- å½“ç„¶ä½ è¿˜å¯ä»¥ä¸ç”¨ page å’Œ component å‘½ä»¤å»åˆ›å»ºé¡µé¢å’Œç»„ä»¶ï¼Œæ‰‹åŠ¨æ·»åŠ å°±å¥½äº†ï¼Œå¦‚æœä½ è§‰å¾—æ–¹ä¾¿
		
		> å› ä¸ºæœªçŸ¥æ¨¡ç‰ˆç±»å‹ï¼Œæ‰€ä»¥åªä¼šå•çº¯çš„å¤åˆ¶æ¨¡ç‰ˆæ–‡ä»¶ï¼åŒæ ·ä¹Ÿä¸ä¼šåŠ¨æ€å¸®ä½ æ‹†å°é¡µé¢ä»£ç ï¼Œå› ä¸ºæ— æ³•æ„ŸçŸ¥åˆ°ä½ ç”¨ä»€ä¹ˆæ ·ç¬¬ä¸‰æ–¹ç±»åº“å»æ•´åˆï¼Œä½ å¯ä»¥ç”¨import(path) æˆ– require.ensure å®ç°æŒ‰éœ€åŠ è½½ã€‚
			
**å…³äº Hot Module Replacement**
	
> ä¸åƒ react å’Œ vue é¡¹ç›®éƒ½æœ‰ç°æˆçš„ loader å»å¤„ç†ï¼Œ æ‰€ä»¥å¯¹äºæ™®é€šé¡¹ç›®æ¥è¯´ï¼Œä½ å¯ä»¥å…ˆå»[webpackå®˜ç½‘](https://webpack.js.org/api/hot-module-replacement/), äº†è§£ä¸‹ç›¸åº”çš„çŸ¥è¯†ï¼Œè¿™å¯¹ä½ ç†è§£å¾ˆæœ‰å¸®åŠ©ã€‚<br> å…¶å®å¯¹äºä»»ä½•æ–‡ä»¶éƒ½å¯ä»¥åšåˆ°HMRã€‚<br>æ—¶é—´å®½è£•å¯ä»¥ç ”ç©¶å†å†™ä¸€ä¸ªæ™®é€šé¡¹ç›®çš„HMRæ’ä»¶ã€‚<br>ä¸‹é¢æ˜¯smart åˆ›å»ºçš„normal é¡¹ç›®ï¼Œç”¨backboneå’Œjqueryåšäº†ä¸€ä¸ªSPA ä¾‹å­ï¼Œå®ç°äº†HMRï¼Œå’Œé¡µé¢ä»£ç æ‹†å°ï¼Œä½†æ²¡æœ‰å®ç°æŒ‰éœ€åŠ è½½(é€šè¿‡è·¯ç”±ä¾¦å¬è·¯ç”±å®ç°å³å¯)ï¼Œä¸‹é¢æ˜¯åœ°å€ï¼š
	
[normal-project-demo]()

###React Project

- åˆ›å»ºæ–°é¡µé¢åä¼šæŠŠé¡µé¢è‡ªåŠ¨ç»‘å®šåˆ°è·¯ç”±é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥ä½ åªéœ€è¦å†™ä¸€ä¸ªnavç»„ä»¶å»è°ƒç”¨æ•°æ®æ¸²æŸ“æˆä½ éœ€è¦çš„å¯¼èˆªæ ·å¼å³å¯ã€‚
		
	> å¦‚æœé¡µé¢åç§°ä¸ºhomeï¼Œé»˜è®¤è·¯ç”±ä¼š â€˜ï¼â€™, è€Œä¸æ˜¯ '/home'
	
	>åˆ›å»ºå­é¡µé¢åï¼Œsmart åªæŠŠå­é¡µé¢è·¯å¾„æ”¾åˆ°äº†router.config.jsæ–‡ä»¶ä¸­ï¼Œå¹¶æ²¡æœ‰æ·»åŠ åˆ°ç›¸åº”çš„çˆ¶çº§ä¸‹ï¼Œéœ€è¦ä½ æ‰‹åŠ¨æ·»åŠ ã€‚å…³äºå­è·¯ç”±è¿™ä¸ªé—®é¢˜å¾ˆå¤´ç–¼ï¼Œæ²¡æœ‰æƒ³åˆ°æœ‰ä»€ä¹ˆå¥½æ–¹å¼ï¼Œå¯ä»¥å‹‰å»è¿™æ ·çš„æ“ä½œã€‚
	
- æŒ‰éœ€åŠ è½½é¡µé¢ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šç”¨ [bundle-loader](https://github.com/webpack-contrib/bundle-loader) å®ç°æ‹†å°ä»£ç å—ã€‚ è€Œ smart ä¸éœ€è¦ä½ å…³æ³¨è¿™äº›ï¼Œä½ å®Œå…¨å°±æŒ‰æ™®é€šå¯¼å…¥é¡µé¢å³å¯ï¼š
		
	* **ä½¿ç”¨ bundle-loader æ˜¯è¿™æ ·çš„**
	
		````
		// æ¯”å¦‚è¦å¯¼å…¥ About é¡µé¢åˆ°è·¯ç”±æ–‡ä»¶
		// nameå‚æ•°å¯ä»¥éšæ„
	
		import AboutPage from 'bundle-loader?name=about!./about';
		````	
	* **smart æ˜¯è¿™æ ·çš„**
		
		````
		// æ¯”å¦‚è¦å¯¼å…¥ About é¡µé¢åˆ°è·¯ç”±æ–‡ä»¶
		// smart ç”Ÿæˆçš„nameå‚æ•°ä¼šç”¨æ–‡ä»¶å¤¹åç§°ï¼Œå› ä¸ºè¿™ä¸ªä¸€ç‚¹ä¹Ÿä¸é‡è¦å¯¹äºç»å¤§æ•°é¡¹ç›®æ¥è¯´ï¼Œå®Œå…¨å¯ä»¥å¿½ç•¥
		
		import AboutPage from './about';
		````
		>ä½ ä¼šå‘ç°åœ¨ development æ¨¡å¼ä¸‹å¹¶æ²¡æœ‰æŒ‰éœ€åŠ è½½ï¼Œä½†æ˜¯ä½ æ‰“åŒ…åå‘ç°ä»£ç å·²ç»æ‹†å°å®ç°æŒ‰éœ€åŠ è½½ï¼Œé‡è¦çš„æ˜¯ä½ ä¸éœ€è¦åšä»»ä½•æ”¹å˜ï¼Œ è¿™å®Œå…¨å¾—ç›Šäºæœ¬äººè‡ªå·±å†™äº†ä¸€ä¸ª [loader](https://webpack.js.org/api/loaders/#this-loadmodule) å»å®ç°è¿™äº›. ç›®çš„å°±æ˜¯å°‘å†™ä¸€äº›æ ·æœ¬ä»£ç , èµ·åˆæ˜¯å› ä¸ºç°æœ‰çš„ loader å‡ºç°å„ç§å„æ ·çš„é—®é¢˜ï¼Œæ‰¾é—®é¢˜èŠ±äº†æœ¬äººå¾ˆé•¿æ—¶é—´ï¼Œæœ€åæ— å¥ˆè‡ªå·±å†™ä¸€ä¸ªå§.<br>æ³¨æ„äº‹é¡¹ï¼š æœ¬åº”è¯¥æ²¡æœ‰çš„ï¼Œä½†æ˜¯è¦ä¸è¦çµæ´»çš„æ ¹æ®é…ç½®æ–‡ä»¶å»åšåŒ¹é…è¿˜æ²¡æœ‰æƒ³å¥½ã€‚æ­£å¸¸æƒ…å†µä¸‹ä½ ä½¿ç”¨é»˜è®¤çš„ pagesç›®å½•ç®¡ç†ä½ çš„é¡µé¢ï¼ˆæ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯åœ¨ pages ç›®å½•ä¸‹ï¼‰ï¼Œå¼‚æ­¥åŠ è½½ä¼šåŒ¹é…è¿™ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•ä¸­çš„index.js ï¼ index.jsx æ–‡ä»¶ä½œä¸ºé¡µé¢å…¥å£æ–‡ä»¶ã€‚ è€Œ pages ç›®å½•åç§°å¯ä»¥æ ¹æ®é…ç½®æ–‡ä»¶ç”Ÿæˆä½ è¦æƒ³çš„ä»»ä½•åç§°ã€‚<br>è§£å†³åŠæ³•ï¼šå¦‚æœä½ ä¸æƒ³ç”¨ pagesç®¡ç†æ‰€æœ‰é¡µé¢ï¼Œæ”¹ä¸ºåˆ«çš„åç§°ï¼Œé‚£ä¹ˆä½ å¯ä»¥æŒ‰ç…§bundle-loaderå†™æ ·æœ¬ä»£ç é‚£æ ·å¼•å…¥é¡µé¢æ–‡ä»¶, ä¸è¿‡è¿™é‡Œéœ€è¦ä½¿ç”¨ async-loader (è¿™ä¸ªä¹Ÿæ˜¯æœ¬äººå†™çš„; è¿™ä¸¤ä¸ªloader æš‚æ—¶æ²¡æœ‰å‘å¸ƒåˆ° npm ä¸Š)ç”¨æ³•å’Œbundle-loader å®Œå…¨ä¸€æ ·ã€‚async-loaderå†…ç½®åˆ° smart ä¸­: import AboutPage from 'async-loader?name=about!./about;<br>åç»­ä¼šå‡çº§ï¼Œåº”è¯¥æ˜¯å®Œå…¨ä¸ç”¨å…³å¿ƒæ‰å¯¹. 
	
- æ–°å»ºé¡µé¢åï¼Œä½ ä¸ç”¨å»æ‰‹åŠ¨å»åˆ›å»ºaction, selector, reducer çš„æ–‡ä»¶ç„¶ååœ¨å…³è”åˆ°é¡µé¢ä¸Šï¼Œè¿™äº› smart å·²ç»ç»™ä½ åšå¥½äº†ã€‚
	>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ actions, selectors, reducersçš„è¿™äº›æ–‡ä»¶éƒ½æ”¾åœ¨å„è‡ªç‹¬ç«‹çš„æ–‡ä»¶ä¸‹å¹¶ä¸”å®ƒä»¬è¢«æ”¾åœ¨ä¸€ä¸ªå…¬å…±çš„ç›®å½•ä¸‹å»ç®¡ç†ï¼Œ æ¯”å¦‚è¿™æ ·ï¼šapp ç›®å½•ä¸‹ç®¡ç†è¿™äº›

	````
	â”œâ”€â”€ app
	â”‚   â”œâ”€â”€ actons
	â”‚   â”‚   â”œâ”€â”€ index.js
	â”‚   â”‚   â”œâ”€â”€ org.js
	â”‚   â”‚   â”œâ”€â”€ acount.js
	â”‚   â”‚   â”œâ”€â”€ etc.js
	â”‚   â”œâ”€â”€ selectors
	â”‚   â”‚   â”œâ”€â”€ home.js
	â”‚   â”‚   â”œâ”€â”€ about.js
	â”‚   â”‚   â”œâ”€â”€ work.js
	â”‚   â”‚   â”œâ”€â”€ etc.js
		 ... çœç•¥
	````
	>è¿™æ ·ç®¡ç†å¾ˆå¥½ï¼Œå¦‚æœæ˜¯ä¸ªäººå†™æ•´ä¸ªä¸šåŠ¡ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¤§é—®é¢˜ã€‚ä½†æ˜¯å¤šäººåˆä½œé—®é¢˜è¿˜æ˜¯ç‹ çªå‡ºçš„ï¼Œä½“ç°å¦‚ä¸‹ï¼š<br>1. å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™äº› actions, reducers å’Œ selector éƒ½æ˜¯ç§æœ‰å’Œå…·ä½“é¡µé¢çš„ä¸šåŠ¡ç»‘å®šçš„ï¼Œé›†ä¸­æ”¾åœ¨è¿™é‡Œå„æœ‰åˆ©å¼Šå§ï¼Œç›¸å½“äºæ²¡è¯´ã€‚<br>2. è€Œè¿™äº›è‚¯å®šä¼šæœ‰ common çš„ä»£ç éœ€è¦å¤ç”¨ï¼Œéšä¹‹ä»£ç è¶Šæ¥è¶Šå¤šï¼Œå¤šäººåˆä½œå¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±ç†Ÿæ‚‰æ•´ä¸ªäº§å“æ¨¡å¼ï¼Œå®Œå…¨æœ‰å¯èƒ½æ˜¯ä¸­é—´æ’è¿›æ¥çš„æ–°äººæ¥ä¸€èµ·å†™ï¼Œè¿™å°±ä¼šå‡ºç° common æ²¡æœ‰è¢«å¤ç”¨çš„æƒ…å†µï¼ŒåŸå› ä¹Ÿå°±ä¸è¯´äº†å§ã€‚<br>3. ä»æ–‡ä»¶æ“ä½œ[æ·»åŠ ï¼Œä¿®æ”¹ï¼Œåˆ é™¤]ä¸Šæ¥è¯´ï¼Œä¹Ÿæ¯”æŠŠæ‰€æœ‰çš„éƒ½é›†ä¸­åœ¨ä¸€ä¸ªåœ°æ–¹ä¸Šæ“ä½œè¦æ–¹ä¾¿çš„å¤šã€‚
		
		
	**smart** å†³å®šä¸ç”¨è¿™ç§ç»“æ„ç®¡ç†å®ƒä»¬ï¼Œ(ä½†smartçµæ´»çš„ç»™ä½ ç•™ä¸‹å…¨å±€ç®¡ç†æ‰€æœ‰storeæ•°æ®åœ°æ–¹ï¼Œé‚£å°±æ˜¯ä½ å®Œå…¨å¿½ç•¥å„ä¸ªpageç›®å½•ä¸‹çš„reduxï¼ŒğŸ˜‚),è€Œæ˜¯æŠŠç§æœ‰çš„æ”¾åœ¨å„è‡ªçš„ä¸šåŠ¡é¡µé¢ç›®å½•ä¸‹ï¼Œæ¯”å¦‚ about é¡µé¢:
		
		````
		â”œâ”€â”€ pages
		â”‚   â”œâ”€â”€ home
		â”‚   â”‚   â”œâ”€â”€ index.js
		â”‚   â”‚   â”œâ”€â”€ redux
		â”‚   â”‚   â”‚   â”œâ”€â”€ action.js
		â”‚   â”‚   â”‚   â”œâ”€â”€ reducer.js
		â”‚   â”‚   â”‚   â”œâ”€â”€ selector.js
			 ... çœç•¥
		````
	æŠŠ commonä»£ç æ”¾åœ¨ app ä¸‹å»ç®¡ç†ã€‚
		
- åˆ›å»ºç»„ä»¶ä¹Ÿä¸€æ ·ï¼Œä¼šè‡ªåŠ¨ç»‘å®šåˆ°ç»„ä»¶å…¥å£æ–‡ä»¶ï¼Œä½ ä¸ç”¨æ‰‹åŠ¨å»ç®¡ç†ï¼Œå†™å®Œä»£ç åœ¨åˆ«çš„åœ°æ–¹ç›´æ¥å¼•ç”¨å³å¯ã€‚
	
[react-project-demo]()

###Vue Porject
	
ç»“æ„å’Œ react project å¤§è‡´ç›¸åŒ, å­˜åœ¨å¾ˆå¤šç»†èŠ‚çš„åŒºåˆ«ï¼Œè¿™æ˜¯å› ä¸ºä¸¤è€…(vuex & redux)ä¹‹é—´ä¸åŒä¹‹å¤„äº§ç”Ÿçš„ï¼Œæ›´è¯¦ç»†è¯·çœ‹demoå®ä¾‹ã€‚ 
	
![](./documents/images/vue.png)
	
åˆ›å»ºæ–°é¡µé¢è‡ªåŠ¨ç»‘å®šåˆ°è·¯ç”±é…ç½®æ–‡ä»¶ï¼Œä½ åªéœ€è¦å…³æ³¨æ ¹æ®éœ€æ±‚å¦‚ä½•ä½¿ç”¨æ•°æ®å°±è¡Œã€‚
	
> å¦‚æœé¡µé¢åç§°ä¸ºhomeï¼Œé»˜è®¤è·¯ç”±ä¼š â€˜ï¼â€™, è€Œä¸æ˜¯ '/home'
	
è‡ªåŠ¨å…³è”æœ¬åœ°æ•°æ®åˆ°storeï¼Œæ›´æ–¹ä¾¿çš„å»æ“ä½œå’Œå…³æ³¨ç§æœ‰æ•°æ®ã€‚
	
	
...æ›´å¤šç»†èŠ‚æœ‰æ—¶é—´è¡¥å……ä¸Š
	
	
[vue-project-demo]()
	
## MOCK å’Œ PROXY
> å¯é€šè¿‡ mock.js æ–‡ä»¶é…ç½®

**é…ç½®ç»“æ„**

- ç”±æ•°ç»„åŒ…å«ç€itemå¯¹è±¡ç»„æˆ: [ {}, ...items ]
- item ç»“æ„: {path, method, data, filename, proxyOption} æ‹¥æœ‰è¿™äº›åˆæ³•key

| å±æ€§ | å±æ€§å€¼ | è¯´æ˜ |
---|---|---|---
| path | /api/login | è¯·æ±‚çš„ api åœ°å€ |
| method| get, post, delete, ...| ä»»ä½•expressåˆæ³•çš„è¯·æ±‚æ–¹å¼ |
| data | å“åº”æ•°æ® response  | 1. {per_page: 1, total: 10, data: [...items]}<br>2. å¯ä»¥ç”¨mockjsæ¨¡æ‹Ÿ |
| filename | .js æ–‡ä»¶ | 1. ç”¨ module.exports è¯­æ³•å¯¼å‡ºä½ çš„å“åº”æ•°æ®;<br>2. å¦‚æœå­˜åœ¨ fielname å°†å¿½ç•¥ dataå±æ€§;<br>3.  å¦‚æœæ‡’æƒ°ç”¨mockjsæ¨¡æ‹Ÿå¤æ‚çš„æ•°æ®æœºæ„å¹¶ä¸”æœ‰ç°æˆçš„ç»“æ„æ•°æ®å¯ä¾›æ‹·è´ï¼Œä½ å¯ä»¥ç›´æ¥ä¿å­˜åˆ°ä¸€ä¸ªjsæ–‡ä»¶ä¸­å¹¶å¯¼å‡º
| proxyOption | ä¾èµ– http-proxy-middleware nodeæ’ä»¶ | 1. å‚è€ƒåœ°å€ [http-proxy-middleware](github.com/chimurai/http-proxy-middleware);<br>2. å¦‚æœå­˜åœ¨å°†å¿½ç•¥**path**å±æ€§ä»¥å¤–çš„æ‰€æœ‰å±æ€§|

````

// ä¸‰ç§æ–¹å¼
[
	{ // ä½¿ç”¨ mokejs ç”¨dataå±æ€§æˆ–è€…è‡ªå®šä¹‰æ•°æ®
		path: '/api/login',
		method: 'post',
		data: {
			id: '@id',
			name: '@cname',
			data: '@date
		}
	},
	{ // ä½¿ç”¨å¤–éƒ¨ js æ–‡ä»¶å¯¼å‡ºçš„æ¨¡å—æ•°æ®
		path: '/api/orgs',
		method: 'get',
		filename: '/your_dir_name/orgs.js'
	},
	{ // ä½¿ç”¨ä»£ç†
		proxyOption: { // ref: github.com/chimurai/http-proxy-middleware
			...config
		},
		path: '/api/acounts'
	}
]
````

## é—®é¢˜
1. å±€é™æ€§ï¼š 
	- æœ¬äººæŠ€æœ¯é—®é¢˜
	- æ‹¥æœ‰çš„ç©ºé—²å­¦ä¹ æ—¶é—´
2. smart æ˜¯æœ¬äººåœ¨ç©ºé—²æ—¶é—´å­¦ä¹ å®Œæˆçš„äº§å“
3. æœ‰å¾ˆå¤šæƒ³æ³•ï¼Œè¿˜æ²¡æœ‰å®ç°ï¼Œéœ€è¦æ—¶é—´ä¸€æ­¥ä¸€æ­¥å®Œæˆ, æ¯”å¦‚ï¼š
	- å¤´ç­‰å¤§äº‹å°±æ˜¯æ€ä¹ˆæ ·èƒ½å³ç®€å•åˆåªæ“ä½œä¸€æ­¥å‘½ä»¤å°±å¯ä»¥å®Œæˆæ›´å¥½çš„æ„å»ºä¼˜åŒ–, åŒ…æ‹¬å®˜æ–¹æ–‡æ¡£å’Œæ‰¾åˆ°èµ„æ–™éƒ½æ˜¯éœ€è¦2æ­¥
	- æ›´å‹å¥½çš„äº¤äº’æ¨¡å¼ä½“éªŒ
	- æä¾›æ¥å£è®©ä½ è‡ªå·±é…åˆ¶ä¸“æœ‰çš„CLIï¼Œè‡ªåŠ¨ç”Ÿæˆ
	- åˆ«çš„æ¬¡é‡è¦çš„ä¸œè¥¿

4. smart ä½¿ç”¨å¯èƒ½å‡ºç°çš„é—®é¢˜, (ç²¾åŠ›æœ‰é™)æ•´ç†ä¸­...

**Issues**: [https://github.com/09boy/boy-smart/issues](https://github.com/09boy/boy-smart/issues)